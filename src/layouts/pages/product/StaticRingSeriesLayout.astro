---
const {product} = Astro.props
import { t } from "i18next";
import ImageGallery from "@components/products/ImageGallery.astro";
let productContent = `products:contents.${product.slug}.contents`;


let tableCols =  parseInt(t(`${productContent}.section2.table.cols`))
---
<section class="text-[0.875rem] text-text-primary md:flex md:flex-row">
    <div class="w-full md:w-6/12 ">
      <ImageGallery productContent={productContent} />
    </div>
    <div class="w-full  text-text-primary px-6 md:w-6/12">
        
      
        
        <!--QQChat -->
        <div class="w-fit mt-8">
            <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=382016693&amp;site=qq&amp;menu=yes" target="_blank" class="flex flex-row bg-[#ffe4d0] rounded-[0.5rem] px-10 py-2">
                <svg  xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path class="fill-[#E5511D]" fill="currentColor" d="M3.18 13.54c.58-1.38 1.39-2.4 1.99-2.62c-.01-.8.14-1.3.39-1.7c0-.03-.06-.36.16-.77C5.87 4.85 8.21 2 12 2s6.13 2.85 6.28 6.45c.22.41.16.74.16.77c.25.4.4.9.39 1.7c.6.22 1.41 1.24 1.99 2.63c.75 1.76.87 3.45.27 3.75c-.41.2-1.06-.3-1.67-1.18c-.24.98-.84 1.88-1.69 2.59c.9.33 1.48.87 1.48 1.48c0 1-1.58 1.81-3.52 1.81c-1.76 0-3.19-.66-3.48-1.5h-.42c-.29.84-1.72 1.5-3.48 1.5c-1.94 0-3.52-.81-3.52-1.81c0-.61.58-1.15 1.48-1.48c-.85-.71-1.45-1.61-1.69-2.59c-.61.88-1.26 1.38-1.67 1.18c-.6-.3-.48-1.99.27-3.76Z"/></svg><span class="text-[#E5511D] ml-4">{t(`products:QQchat.btnLabel`)}</span>
            </a>
        </div>
        <div class="mt-1">
            <span>{t(`products:QQchat.telephone`)}:</span><span class="pl-4 text-[1.5rem]">{t(`products:QQchat.telephoneNumber`)}</span>
        </div>
        
    </div>
</section>
<!--Product-details-section -->
<section class="mt-8">
    <div class="text-white bg-[#333333] py-1 px-6 mb-[-1px] w-fit rounded-t-[0.5rem]">
        {t(`${productContent}.section2.tabLabel`)}
    </div>
    <div class="border-[1px] border-dotted border-[#ccc] py-8 px-4" >
       
        
        
        <!--Table -->
        <div>
            <table class="w-full">
                <thead>
                    <tr class="bg-[#99cdff]">
                        {
                            Array.from({length: tableCols}).map((_:any, colIndex:number) => {
                                return (
                                    <th class="text-left text-black p-2 border-[1px] border-solid border-[#ddd]">{t(`${productContent}.section2.table.th.th${1+colIndex}`)}</th>
                                )
                            })
                        }
                    </tr>
                </thead>
                <tbody>
                    {Array.from({length: parseInt(t(`${productContent}.section2.table.tr.count`))}).map((_:any, rowIndex:number) => {
                        return (
                            <tr class="hover:bg-[#f9f9f9]">
                                {
                                    Array.from({length: tableCols}).map((_:any, colIndex:number) => {
                                        return (
                                            <td class="p-2 border-[1px] border-solid border-[#ddd]">
                                            {
                                                t(`${productContent}.section2.table.tr.tr${1+rowIndex}.tc${1+colIndex}`).split("\n").map((el3:string, splitIndex:number) => {
                                                    return splitIndex == 0 ?
                                                    (
                                                        <span>
                                                            {el3}
                                                        </span>
                                                    ) : (
                                                        <br/>
                                                        <span>
                                                            {el3}
                                                        </span>
                                                    )
                                                })
                                            }
                                            </td>
                                        )
                                    })
                                }
                            </tr>
                        )                        
                    })}
                </tbody>
            </table>
        </div>
    </div>
    
</section>

